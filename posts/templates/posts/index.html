{% extends 'base.html' %} {% load static %} {% block style %}
<style>
  *{
    box-sizing: border-box;
  }

  {% comment %} .box{
    border: 1px solid black;
  } {% endcomment %}

  section {
    margin-bottom: 1rem;
  }

  a {
    text-decoration: none;
    color: inherit;
  }

  #container-posts{
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    grid-template-rows; 1fr;
    column-gap: 5px;
    row-gap: 10px;
    background-color: red;
  }

  @media all and (max-width:479px) {
    #container-posts {
      grid-template-columns: 1fr;
      grid-template-rows: repeat(4, 1fr);
      column-gap: 10px;
      row-gap: 10px;
      background-color : yellow;
    }
  }

  .card-user{
    display: flex;
    flex-wrap: nowrap;
  }

  .username{
    margin-left: 0.5em;
  }
  
  .card-title {
    display: -webkit-box;
    -webkit-line-clamp: 1;
    -webkit-box-orient: vertical;
    overflow: hidden;
    text-overflow: ellipsis;
  }
  .card {
    height: auto;
    border: 1px solid black;
    box-shadow: 3px 3px 10px;
    margin: auto;
    margin-bottom: 30px;
    transition: all 0.5s;
    transition-delay: 0.4s;
  }


  .post-item img{
    height: 200px;
    object-fit: fill;
    position: relative;
  }

  .like-user{
    position: absolute;
    top : 0;
    right: 0;
    background: none;
    border: none;
  }

  .user-profile:not(.post.image){
    width: 1.5em;
    height: 1.5em;
  }

  .main-img {
    width: 100%;
    height: 10em;
    object-fit: fill;
  }

  .noimage-img{
    display: block;
    margin: auto;
    width: 80%;
    object-fit: fill;
  }

  .viewed-order{
    display: flex;
  }

  .viewed-order-buttons{
    margin-left: auto;
  }

</style>
{% endblock style %} 

{% block content %}
<main>
  <section class="box">
    <img src="{% static 'img/c.jpg' %}" class="main-img" alt="" />
  </section>
  <section class='Box viewed-order'>
    <div class="viewed-order-buttons">
      <button type="button" class="btn btn-outline-dark" >ÏµúÏã†Ïàú</button>
      <button type="button" class="btn btn-outline-dark" >Ïù∏Í∏∞Ïàú</button>
      <button type="button" class="btn btn-outline-dark" >ÎåìÍ∏ÄÏàú</button>
    </div>
  </section>
  <section class="box">
    <div id="container-posts">
      {% for post in posts %}
      <div class="post-item">
        <a href="{% url 'posts:detail' post.pk %}" class="card">
          {% if post.image %}
          <img src="{{ post.image.url }}" alt="Ïó¨ÌñâÏÇ¨ÏßÑ" class="card-img-top" />
          {% else %}
          <img
            src="{% static 'img/noimage.svg' %}"
            alt="Ïù¥ÎØ∏ÏßÄÏóÜÏùå"
            class="card-img-top noimage-img"
          />
          <form action="#" method="POST">
            {% csrf_token %}
            {% if request.user in post.like_posts.all %}
            <input class='like-user' type="submit" value="ü§ç">
            {% else %}
            <input class='like-user' type="submit" value="‚ù§">
            {% endif %}
          </form>
          {% endif %}
          <div class="card-body">
            <div class="card-user">
              <p>
                {% if post.user.profile_image %}
                <img
                  class="user-profile"
                  src="{{ post.user.profile_image }}"
                  alt="ÏÇ¨Ïö©ÏûêÌîÑÎ°úÌïÑÏù¥ÎØ∏ÏßÄ"
                />
                {% else %}
                <img
                class="user-profile"
                src="{% static 'img/user_profile.png' %}"
                alt="Í∏∞Î≥∏ÌîÑÎ°úÌïÑÏù¥ÎØ∏ÏßÄ"
                />
              </p>
                {% endif %}
              <span class="username">{{user}}</span>
            </div>
            <h6 class="card-title">{{ post.title }}</h6>
          </div>
        </a>
      </div>
      {% endfor %}
    </div>
  </section>
</main>

{% endblock content %}
